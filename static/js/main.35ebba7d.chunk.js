(this.webpackJsonpfrontloja=this.webpackJsonpfrontloja||[]).push([[0],{99:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(31),o=n.n(r),i=(n(89),n(82)),s=n(15),j=n(58),u=n(12),l=n.n(u),d=n(21),b=n(13),h=n(25),O=n(14),m=n(17),p=n(56),f=n(16),x=n(8),g=n(44),v=n(34),y=n(43),C=n(69),k=n(48),S="http://localhost:4000",q=n(2),w=function(){var e={nome:"",status:"",quantidade:0,categoria:"",preco:0},t=Object(a.useState)([]),n=Object(O.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(e),i=Object(O.a)(o,2),s=i[0],u=i[1],w=Object(a.useState)(),E=Object(O.a)(w,2),I=E[0],T=E[1],A=Object(a.useState)("Selecione uma categoria"),L=Object(O.a)(A,2),N=L[0],_=L[1],F=Object(a.useState)(!1),H=Object(O.a)(F,2),B=H[0],J=H[1],P=Object(a.useState)(!1),M=Object(O.a)(P,2),K=M[0],z=M[1],D=Object(a.useState)({}),R=Object(O.a)(D,2),Q=R[0],U=R[1];function X(){return(X=Object(h.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(S,"/categorias"),e.next=3,fetch(t).then((function(e){return e.json()})).then((function(e){T(e)})).catch((function(e){console.error("Erro ao obter as categorias: ".concat(e.message))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return G.apply(this,arguments)}function G(){return(G=Object(h.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="".concat(S,"/items"),fetch(t).then((function(e){return e.json()})).then((function(e){r(e)})).catch((function(e){console.error("Erro ao obter os items: ".concat(e.message))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(h.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(S,"/items/").concat(s._id),e.next=3,fetch(t,{method:"DELETE",headers:{Accept:"application/json","Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(){return $()})).catch((function(e){console.error("Erro ao deletar o item: ".concat(e.message))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(h.a)(l.a.mark((function t(){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Y(),!(Object.keys(n).length>0)){t.next=5;break}U(n),t.next=9;break;case 5:return a="".concat(S,"/items"),t.next=8,fetch(a,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(t){u(e),$()})).catch((function(e){console.error("Erro ao editar o item: ".concat(e.message))}));case 8:z(!1);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(a.useEffect)((function(){document.title="Inicio";var e="".concat(S,"/items");fetch(e).then((function(e){return e.json()})).then((function(e){r(e)})).catch((function(e){console.error("Erro ao obter os items: ".concat(e.message))}))}),[]);var Y=function(){var e={};return s.nome&&""!==s.nome?s.nome.length>30?e.nome="O nome deve ser menor que 30":s.nome.length<3&&(e.nome="O nome deve ser maior que 3"):e.nome="O nome n\xe3o pode ser vazio",(s.quantidade<0||null===s.quantidade)&&(e.quant="A quantidade deve ser maior ou igual h\xe1 0"),(s.preco<=0||null===s.preco)&&(e.preco="O pre\xe7o deve ser maior que 0"),e};return Object(q.jsxs)(q.Fragment,{children:[c&&c.map((function(e){return Object(q.jsx)(j.a,{children:Object(q.jsx)(p.a,{children:Object(q.jsxs)(p.a.Body,{style:{textAlign:"center"},children:[Object(q.jsx)(p.a.Title,{children:e.nome}),Object(q.jsxs)(p.a.Text,{children:["Em estoque: ",e.quantidade,"\xa0 pre\xe7o: R$",e.preco]}),Object(q.jsx)(m.a,{style:{margin:10},variant:"danger",onClick:function(){J(!0),u(e)},children:Object(q.jsx)(k.a,{})}),Object(q.jsxs)(m.a,{style:{margin:10},variant:"outline-primary",onClick:function(){z(!0),u(e),function(){X.apply(this,arguments)}()},children:[Object(q.jsx)(k.b,{})," "]})]})})},e._id)})),Object(q.jsxs)(f.a,{show:B,animation:!1,onHide:function(){return J(!1)},children:[Object(q.jsx)(f.a.Header,{children:Object(q.jsx)(f.a.Title,{children:"Aten\xe7\xe3o"})}),Object(q.jsx)(f.a.Body,{children:"Deseja realmente deletar o item selecionado?"}),Object(q.jsxs)(f.a.Footer,{children:[Object(q.jsx)(m.a,{variant:"danger",onClick:function(){J(!1),u(null)},children:"Cancelar"}),Object(q.jsx)(m.a,{variant:"success",onClick:function(){!function(){V.apply(this,arguments)}(),J(!1)},children:"Confirmar"})]})]}),s&&Object(q.jsxs)(f.a,{show:K,animation:!1,onHide:function(){z(!1)},children:[Object(q.jsx)(f.a.Header,{children:Object(q.jsx)(f.a.Title,{children:"Editando item"})}),Object(q.jsx)(f.a.Body,{children:Object(q.jsxs)(x.a,{children:[Object(q.jsx)(x.a.Label,{children:"Nome do item"}),Object(q.jsx)(x.a.Control,{name:"nome",type:"text",value:s.nome,isInvalid:!!Q.nome,onChange:function(e){u(Object(b.a)(Object(b.a)({},s),{},Object(d.a)({},e.target.name,e.target.value)))}}),Object(q.jsx)(x.a.Control.Feedback,{type:"invalid",children:Q.nome}),Object(q.jsx)("br",{}),Object(q.jsx)(g.a,{variant:"secondary",title:N,id:"cadastros",children:I&&I.map((function(e){return Object(q.jsx)(v.a.Item,{name:"categoria",value:e._id,onClick:function(t){_(e.nome)},eventKey:e._id,children:e.nome},e._id)}))}),Object(q.jsx)("br",{}),Object(q.jsx)(y.a,{children:Object(q.jsxs)(C.a,{children:[Object(q.jsx)(x.a.Label,{children:"Quantidade: "}),"\xa0",Object(q.jsx)(x.a.Control,{name:"quantidade",type:"number",value:s.quantidade,isInvalid:!!Q.quant,onChange:function(e){u(Object(b.a)(Object(b.a)({},s),{},Object(d.a)({},e.target.name,e.target.value)))}}),Object(q.jsx)(x.a.Control.Feedback,{type:"invalid",children:Q.quant}),"\xa0 \xa0",Object(q.jsx)(x.a.Label,{children:"Pre\xe7o: "}),"\xa0",Object(q.jsx)(x.a.Control,{name:"preco",type:"number",value:s.preco,isInvalid:!!Q.preco,onChange:function(e){u(Object(b.a)(Object(b.a)({},s),{},Object(d.a)({},e.target.name,e.target.value)))}}),Object(q.jsx)(x.a.Control.Feedback,{type:"invalid",children:Q.preco})]})}),Object(q.jsx)(m.a,{variant:"danger",style:{margin:10},onClick:function(){z(!1)},children:"Cancelar"}),Object(q.jsx)(m.a,{variant:"success",style:{margin:10},onClick:function(){!function(){W.apply(this,arguments)}()},children:"Confirmar"})]})})]})]})},E=n(72),I=function(e){var t={nome:"",status:!0},n={nome:"",status:"",quantidade:0,categoria:"",preco:0},c=e.mostrar,r=e.titulo,o=Object(a.useState)(t),i=Object(O.a)(o,2),s=i[0],j=i[1],u=s.nome,p=s.status,k=Object(a.useState)([]),w=Object(O.a)(k,2),I=w[0],T=w[1],A=Object(a.useState)({}),L=Object(O.a)(A,2),N=L[0],_=L[1],F=Object(a.useState)(n),H=Object(O.a)(F,2),B=H[0],J=H[1],P=Object(a.useState)({}),M=Object(O.a)(P,2),K=M[0],z=M[1],D=Object(a.useState)("Selecione uma categoria"),R=Object(O.a)(D,2),Q=R[0],U=R[1],X=Object(a.useState)(""),$=Object(O.a)(X,2),G=$[0],V=$[1],W=localStorage.getItem("access_token");function Y(){return(Y=Object(h.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(S,"/categorias"),e.next=3,fetch(t).then((function(e){return e.json()})).then((function(e){T(e)})).catch((function(e){console.error("Erro ao obter as categorias: ".concat(e.message))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(h.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=te(),!(Object.keys(n).length>0)){e.next=5;break}_(n),e.next=9;break;case 5:return a="".concat(S,"/categorias"),s.status=!0===s.status||"ativo"===s.status?"ativo":"inativo",e.next=9,fetch(a,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){e._id||e.message?V("Registro salvo"):V(""),j(t)})).catch((function(e){console.error("Erro ao salvar a categoria: ".concat(e.message))}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(h.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ne(),!(Object.keys(t).length>0)){e.next=5;break}z(t),e.next=9;break;case 5:return a="".concat(S,"/items"),B.status=B.quantidade>0?"disponivel":"indisponivel",e.next=9,fetch(a,{mode:"cors",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","access-token":W},body:JSON.stringify(B)}).then((function(e){return e.json()})).then((function(e){e._id||e.message?V("Registro salvo"):V(""),J(n)})).catch((function(e){console.error("Erro ao salvar a categoria: ".concat(e.message))}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){!function(){Y.apply(this,arguments)}()}),[]);var te=function(){var e={};return u&&""!==u?u.length>20?e.nome="O nome deve ser menor que 20":u.length<3&&(e.nome="O nome deve ser maior que 3"):e.nome="O nome n\xe3o pode ser vazio",e},ne=function(){var e={};return B.nome&&""!==B.nome?B.nome.length>30?e.nome="O nome deve ser menor que 30":B.nome.length<3&&(e.nome="O nome deve ser maior que 3"):e.nome="O nome n\xe3o pode ser vazio",(B.quantidade<0||null===B.quantidade)&&(e.quant="A quantidade deve ser maior ou igual h\xe1 0"),(B.preco<=0||null===B.preco)&&(e.preco="O pre\xe7o deve ser maior que 0"),e};return Object(q.jsxs)(f.a,{animation:!1,show:c,onHide:function(){e.setMostrar(!c),j(t),J(n)},children:[Object(q.jsx)(f.a.Header,{children:Object(q.jsxs)(f.a.Title,{children:["Cadastro de ",r]})}),Object(q.jsxs)(f.a.Body,{children:["Categorias"===r?Object(q.jsxs)(x.a,{children:[Object(q.jsx)(x.a.Label,{children:"Nome da Categoria"}),Object(q.jsx)(x.a.Control,{name:"nome",placeholder:"EX: Camisa",value:u,isInvalid:!!N.nome,onChange:function(e){j(Object(b.a)(Object(b.a)({},s),{},Object(d.a)({},e.target.name,e.target.value))),_({})},type:"text"}),Object(q.jsx)(x.a.Control.Feedback,{type:"invalid",children:N.nome}),Object(q.jsx)(x.a.Label,{children:"Status Ativo?"}),Object(q.jsx)(x.a.Check,{type:"checkbox",label:"Ativo",name:"catStatus",checked:p,onChange:function(e){return j(Object(b.a)(Object(b.a)({},s),{},Object(d.a)({},e.target.name,e.target.checked)))}}),Object(q.jsx)(m.a,{variant:"danger",style:{margin:10},onClick:function(){e.setMostrar(!c),j(t)},children:"Cancelar"}),Object(q.jsx)(m.a,{variant:"success",style:{margin:10},onClick:function(){return function(){return Z.apply(this,arguments)}()},children:"Confirmar"})]}):Object(q.jsxs)(x.a,{children:[Object(q.jsx)(x.a.Label,{children:"Nome do item"}),Object(q.jsx)(x.a.Control,{name:"nome",type:"text",placeholder:"EX: tenis adidas",value:B.nome,isInvalid:!!K.nome,onChange:function(e){J(Object(b.a)(Object(b.a)({},B),{},Object(d.a)({},e.target.name,e.target.value)))}}),Object(q.jsx)(x.a.Control.Feedback,{type:"invalid",children:K.nome}),Object(q.jsx)("br",{}),Object(q.jsx)(g.a,{variant:"secondary",title:Q,id:"cadastros",children:I.map((function(e){return Object(q.jsx)(v.a.Item,{name:"categoria",value:e._id,onClick:function(t){U(e.nome)},eventKey:e._id,children:e.nome},e._id)}))}),Object(q.jsx)("br",{}),Object(q.jsx)(y.a,{children:Object(q.jsxs)(C.a,{children:[Object(q.jsx)(x.a.Label,{children:"Quantidade: "}),"\xa0",Object(q.jsx)(x.a.Control,{name:"quantidade",type:"number",value:B.quantidade,isInvalid:!!K.quant,style:{width:100},onChange:function(e){J(Object(b.a)(Object(b.a)({},B),{},Object(d.a)({},e.target.name,e.target.value)))}}),Object(q.jsx)(x.a.Control.Feedback,{type:"invalid",children:K.quant}),"\xa0 \xa0",Object(q.jsx)(x.a.Label,{children:"Pre\xe7o: "}),"\xa0",Object(q.jsx)(x.a.Control,{name:"preco",type:"number",value:B.preco,isInvalid:!!K.preco,style:{width:100},onChange:function(e){J(Object(b.a)(Object(b.a)({},B),{},Object(d.a)({},e.target.name,e.target.value)))}}),Object(q.jsx)(x.a.Control.Feedback,{type:"invalid",children:K.preco})]})}),Object(q.jsx)(m.a,{variant:"danger",style:{margin:10},onClick:function(){e.setMostrar(!c),J(n),U("Selecione uma categoria")},children:"Cancelar"}),Object(q.jsx)(m.a,{variant:"success",style:{margin:10},onClick:function(){return function(){return ee.apply(this,arguments)}()},children:"Confirmar"})]}),Object(q.jsxs)(E.a,{onClose:function(){return V("")},show:G.length>0,animation:!1,delay:4e3,autohide:!0,className:"bg-success",style:{position:"absolute",top:0,right:0},children:[Object(q.jsx)(E.a.Header,{children:"Aviso"}),Object(q.jsx)(E.a.Body,{className:"text-light",children:G})]})]})]})},T=n(77),A=n(84),L=n(80),N=n(81),_=n(79),F=function(){var e={nome:"",status:!0},t=Object(a.useState)(!1),n=Object(O.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(""),i=Object(O.a)(o,2),s=i[0],j=i[1],u=Object(a.useState)(),p=Object(O.a)(u,2),y=p[0],C=p[1],w=Object(a.useState)(e),E=Object(O.a)(w,2),F=E[0],H=E[1],B=Object(a.useState)(!1),J=Object(O.a)(B,2),P=J[0],M=J[1];function K(){return z.apply(this,arguments)}function z(){return(z=Object(h.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(S,"/categorias"),e.next=3,fetch(t).then((function(e){return e.json()})).then((function(e){C(e)})).then(M(!0)).catch((function(e){console.error("Erro ao obter as categorias: ".concat(e.message))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(h.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(S,"/categorias/").concat(F.nome),e.next=3,fetch(t,{method:"DELETE",headers:{Accept:"application/json","Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(){return K()})).catch((function(e){console.error("Erro ao deletar o item: ".concat(e.message))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(h.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(S,"/items"),t.next=3,fetch(n,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(F)}).then((function(e){return e.json()})).then((function(t){H(e),K()})).catch((function(e){console.error("Erro ao editar o item: ".concat(e.message))}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(T.a,{style:{backgroundColor:"#303030"},variant:"dark",children:[Object(q.jsxs)(T.a.Brand,{href:"#inicio",children:[Object(q.jsx)(_.a,{})," Loja"]}),Object(q.jsxs)(A.a,{className:"mr-auto",children:[Object(q.jsxs)(g.a,{style:{marginLeft:20},variant:"secondary",as:L.a,menuAlign:{lg:"right"},title:"Cadastros",id:"cadastros",children:[Object(q.jsx)(v.a.Item,{eventKey:"1",onClick:function(){j("Categorias"),r(!c)},children:" Categorias"}),Object(q.jsx)(v.a.Item,{eventKey:"2",onClick:function(){j("Item"),r(!c)},children:" Items"})]}),Object(q.jsx)(m.a,{variant:"secondary",style:{marginLeft:10},onClick:function(){K()},children:"Editar categorias"})]})]}),Object(q.jsx)(I,{mostrar:c,setMostrar:r,titulo:s}),y&&Object(q.jsxs)(f.a,{show:P,animation:!1,onHide:function(){M(!1)},children:[Object(q.jsx)(f.a.Header,{children:Object(q.jsx)(f.a.Title,{children:"Editar Categorias"})}),Object(q.jsx)(f.a.Body,{children:Object(q.jsxs)(x.a,{children:[Object(q.jsxs)(N.a,{striped:!0,bordered:!0,hover:!0,children:[Object(q.jsx)("thead",{children:Object(q.jsxs)("tr",{className:"bg-success text-dark",children:[Object(q.jsx)("th",{children:"Nome"}),Object(q.jsx)("th",{children:"Status"}),Object(q.jsx)("th",{children:"Op\xe7\xf5es"})]})}),Object(q.jsx)("tbody",{children:y.map((function(e){return Object(q.jsxs)("tr",{children:[Object(q.jsx)("td",{children:Object(q.jsx)(x.a.Control,{name:"nome",value:e.nome,onChange:function(e){H(Object(b.a)(Object(b.a)({},F),{},Object(d.a)({},e.target.name,e.target.value)))}})}),Object(q.jsx)("td",{children:Object(q.jsx)(x.a.Check,{type:"checkbox",label:"Ativo",name:"status",checked:e.status,onChange:function(e){return H(Object(b.a)(Object(b.a)({},F),{},Object(d.a)({},e.target.name,e.target.checked)))}})}),Object(q.jsxs)("td",{children:[Object(q.jsx)(m.a,{variant:"outline-primary",onClick:function(){H(e),function(){R.apply(this,arguments)}()},children:Object(q.jsx)(k.b,{})}),"\xa0",Object(q.jsx)(m.a,{variant:"outline-danger",onClick:function(){H(e),function(){D.apply(this,arguments)}()},children:Object(q.jsx)(k.a,{})})]})]},e._id)}))})]}),Object(q.jsx)(m.a,{variant:"danger",onClick:function(){M(!1)},children:"Cancelar"})]})})]})]})},H=function(){return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(j.a,{fluid:!0,className:"p-0",children:[Object(q.jsx)(F,{}),Object(q.jsx)(w,{})]})})};function B(){return Object(q.jsx)(i.a,{children:Object(q.jsx)(s.c,{children:Object(q.jsx)(s.a,{exact:!0,path:"/",component:H})})})}var J=function(){return Object(q.jsx)(B,{})};o.a.render(Object(q.jsx)(c.a.StrictMode,{children:Object(q.jsx)(J,{})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.35ebba7d.chunk.js.map